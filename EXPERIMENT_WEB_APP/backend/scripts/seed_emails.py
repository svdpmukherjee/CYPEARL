import asyncio
import os
from dotenv import load_dotenv

load_dotenv()
from motor.motor_asyncio import AsyncIOMotorClient
from datetime import datetime
import certifi

# MongoDB connection
MONGO_URL = os.getenv("MONGO_URL")
DB_NAME = os.getenv("DB_NAME")

# ============================================================
# KNOWN SENDER DOMAINS (Trusted Partners of LuxConsultancy)
# ============================================================
# These are the domains participants are told to recognize:
#   1. luxconsultancy.com   - Employer (internal)
#   2. securenebula.com     - Cloud services client
#   3. lockgrid.com         - Security client
#   4. superfinance.com     - Tax/accounting client
#   5. trendyletter.com     - Newsletter service
#   6. greenenvi.com        - Environmental client
#   7. wattvoltbridge.com   - Energy client
#
# Phishing emails with "known" senders use SPOOFED versions:
#   - TLD swaps: .net, .org instead of .com
#   - Hyphenation: secure-nebula.com
#   - Typosquatting: wattvoltbrdige.com (transposition)
#
# UNKNOWN LEGITIMATE SENDERS (Fictional - for ethical reasons):
#   - finregauthority.eu (Fictional financial regulator)
#   - eurofiscalsecretariat.eu (Fictional EU finance organization)
#   - dataprivacyboard.eu (Fictional data protection authority)
#   - favbizjournal.com (Fictional business media)
#
# NOTE: Timestamps are generated by routes.py when each participant
# first accesses each email, then stored in participant.email_timestamps.
# ============================================================

async def seed():
    client = AsyncIOMotorClient(MONGO_URL, tlsCAFile=certifi.where())
    db = client[DB_NAME]
    
    print("Clearing existing emails...")
    await db.emails.delete_many({})
    await db.participants.delete_many({})

    emails = [
        # ============================================================
        # EMAIL 0: WELCOME & INSTRUCTIONS (Non-experimental)
        # ============================================================
        {
            "sender_name": "IRiSC Lab - University of Luxembourg",
            "sender_email": "irisc@uni.lu",
            "subject": "Study Instructions: Email Decision Making Simulation",
            "body": """
            <div style="font-family: 'Segoe UI', Arial, sans-serif; max-width: 800px; line-height: 1.7; color: #1f2937;">

                <!-- ========== YOUR ROLE ========== -->
                <div style="margin-bottom: 28px;">
                    <h3 style="color: #1e40af; font-size: 18px; margin: 0 0 12px 0; display: flex; align-items: center; gap: 10px;">
                        1. Your Role
                    </h3>
                    <p style="margin: 0; color: #374151;">
                        Imagine you work at <strong style="color: #1e40af;">LuxConsultancy</strong>, a consulting firm based in <strong>Paris</strong>.
                        You handle emails from your company and various <strong>trusted business partners</strong> listed below.
                    </p>
                </div>
                
                <!-- ========== QUICK START SUMMARY ========== -->
                <div style="background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 2px solid #3b82f6; border-radius: 12px; padding: 20px 24px; margin-bottom: 28px;">
                    <h3 style="margin: 0 0 14px 0; color: #1e40af; font-size: 16px; display: flex; align-items: center; gap: 8px;">
                        <span style="background: #3b82f6; color: white; width: 28px; height: 28px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 14px;">‚ö°</span>
                        Quick Start Summary
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px;">
                        <div style="background: white; padding: 12px 16px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">Your Role</div>
                            <div style="font-weight: 600; color: #1f2937;">Employee @ LuxConsultancy</div>
                        </div>
                        <div style="background: white; padding: 12px 16px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">Location</div>
                            <div style="font-weight: 600; color: #1f2937;">Paris, France</div>
                        </div>
                        <div style="background: white; padding: 12px 16px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">Your Task</div>
                            <div style="font-weight: 600; color: #1f2937;">Review 16 work emails</div>
                        </div>
                        <div style="background: white; padding: 12px 16px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">Goal</div>
                            <div style="font-weight: 600; color: #1f2937;">Decide: Safe, Report, Delete, or Ignore</div>
                        </div>
                    </div>
                </div>
                

                <!-- ========== TRUSTED PARTNERS TABLE ========== -->
                <div style="margin-bottom: 28px;">
                    <h3 style="color: #1e40af; font-size: 18px; margin: 0 0 16px 0; display: flex; align-items: center; gap: 10px;">
                        2. Your Company & Trusted Partners
                    </h3>

                    <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border: 1px solid #e5e7eb;">
                        <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                            <thead>
                                <tr style="background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);">
                                    <th style="padding: 14px 16px; text-align: left; color: white; font-weight: 600;">Company</th>
                                    <th style="padding: 14px 16px; text-align: left; color: white; font-weight: 600;">Relationship</th>
                                    <th style="padding: 14px 16px; text-align: left; color: white; font-weight: 600;">Trusted Domain</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background: #eff6ff;">
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong style="color: #1e40af;">LuxConsultancy</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Your employer (internal)</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #dbeafe; padding: 4px 8px; border-radius: 4px; color: #1e40af; font-weight: 600;">@luxconsultancy.com</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong>SecureNebula</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Cloud services provider</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@securenebula.com</code></td>
                                </tr>
                                <tr style="background: #f9fafb;">
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong>LockGrid</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Security solutions client</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@lockgrid.com</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong>SuperFinance</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Tax & accounting partner</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@superfinance.com</code></td>
                                </tr>
                                <tr style="background: #f9fafb;">
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong>TrendyLetter</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Newsletter service</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@trendyletter.com</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><strong>GreenEnvi</strong></td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;">Environmental consulting</td>
                                    <td style="padding: 12px 16px; border-bottom: 1px solid #e5e7eb;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@greenenvi.com</code></td>
                                </tr>
                                <tr style="background: #f9fafb;">
                                    <td style="padding: 12px 16px;"><strong>WattVoltBridge</strong></td>
                                    <td style="padding: 12px 16px;">Energy sector client</td>
                                    <td style="padding: 12px 16px;"><code style="background: #f3f4f6; padding: 4px 8px; border-radius: 4px;">@wattvoltbridge.com</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 16px 20px; border-radius: 10px; margin-top: 16px; border-left: 5px solid #f59e0b; display: flex; align-items: start; gap: 12px;">
                        <span style="font-size: 22px; line-height: 1;">‚ö†Ô∏è</span>
                        <div>
                            <strong style="color: #92400e;">Important:</strong>
                            <span style="color: #78350f;"> Any domain <strong>NOT</strong> in the table above is <strong>unknown</strong> to you. Unknown senders aren't necessarily unsafe; some may be legitimate new contacts, others could be suspicious. Use your judgment!</span>
                        </div>
                    </div>
                </div>

                <!-- ========== WHAT YOU WILL DO ========== -->
                <div style="margin-bottom: 28px;">
                    <h3 style="color: #1e40af; font-size: 18px; margin: 0 0 16px 0; display: flex; align-items: center; gap: 10px;">
                        3. What You Will Do
                    </h3>
                    <p style="margin: 0 0 16px 0; color: #374151;">You will review <strong>16 workplace emails</strong> and decide how to respond. For each email, choose one action:</p>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 12px;">
                        <!-- Mark Safe - CheckCircle icon -->
                        <div style="background: #ecfdf5; padding: 14px 16px; border-radius: 10px; border: 1px solid #a7f3d0; text-align: center;">
                            <div style="display: flex; justify-content: center; margin-bottom: 8px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="m9 12 2 2 4-4"></path></svg>
                            </div>
                            <div style="font-weight: 700; color: #065f46;">Mark Safe</div>
                            <div style="font-size: 12px; color: #047857;">Email looks legitimate</div>
                        </div>
                        <!-- Report - AlertOctagon icon -->
                        <div style="background: #fef2f2; padding: 14px 16px; border-radius: 10px; border: 1px solid #fecaca; text-align: center;">
                            <div style="display: flex; justify-content: center; margin-bottom: 8px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>
                            </div>
                            <div style="font-weight: 700; color: #991b1b;">Report</div>
                            <div style="font-size: 12px; color: #b91c1c;">Email seems suspicious</div>
                        </div>
                        <!-- Delete - Trash2 icon -->
                        <div style="background: #f3f4f6; padding: 14px 16px; border-radius: 10px; border: 1px solid #d1d5db; text-align: center;">
                            <div style="display: flex; justify-content: center; margin-bottom: 8px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#4b5563" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>
                            </div>
                            <div style="font-weight: 700; color: #374151;">Delete</div>
                            <div style="font-size: 12px; color: #6b7280;">Not needed or spam</div>
                        </div>
                        <!-- Ignore - Ban icon -->
                        <div style="background: #fefce8; padding: 14px 16px; border-radius: 10px; border: 1px solid #fef08a; text-align: center;">
                            <div style="display: flex; justify-content: center; margin-bottom: 8px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#a16207" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="m4.9 4.9 14.2 14.2"></path></svg>
                            </div>
                            <div style="font-weight: 700; color: #854d0e;">Ignore</div>
                            <div style="font-size: 12px; color: #a16207;">Skip for now</div>
                        </div>
                    </div>
                </div>

                <!-- ========== REMINDER TIP ========== -->
                <div style="padding: 16px 20px; border-radius: 10px; margin-bottom: 28px; border: 1px solid #a7f3d0; display: flex; align-items: center; gap: 12px;">
                    <span style="font-size: 24px;">üí°</span>
                    <div style="color: #065f46;">
                        <strong>Remember:</strong> You can return to this email anytime to check information by clicking on it in your inbox.
                    </div>
                </div>
                
                <!-- ========== HERO BONUS BANNER - TOP PLACEMENT FOR MAXIMUM VISIBILITY ========== -->
                <div style="background: linear-gradient(135deg, #059669 0%, #047857 50%, #065f46 100%); border-radius: 16px; padding: 0; margin-bottom: 28px; box-shadow: 0 10px 40px rgba(5, 150, 105, 0.4), 0 0 0 1px rgba(255,255,255,0.1) inset; overflow: hidden; position: relative;">
                    <!-- Animated shimmer effect overlay -->
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%); pointer-events: none;"></div>

                    <div style="padding: 24px 28px; text-align: center; position: relative;">
                        <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 6px 16px; border-radius: 20px; margin-bottom: 12px;">
                            <span style="color: #ffffff; font-size: 13px; font-weight: 600; letter-spacing: 1.5px; text-transform: uppercase;">üí∞ Earn Real Money by Clicking Links in Emails üí∞</span>
                        </div>
                        <h2 style="margin: 0 0 8px 0; color: #ffffff; font-size: 28px; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.2);">BONUS REWARDS FOR YOUR DECISIONS</h2>
                        <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 15px;">Your careful email judgments directly increase your payment!</p>
                    </div>

                    <div style="background: rgba(255,255,255,0.95); padding: 24px 28px; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 200px; max-width: 280px; background: linear-gradient(180deg, #ecfdf5 0%, #d1fae5 100%); padding: 20px; border-radius: 12px; border: 2px solid #10b981; text-align: center; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);">
                            <div style="width: 50px; height: 50px; background: #10b981; border-radius: 50%; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                <span style="font-size: 24px;">‚úì</span>
                            </div>
                            <div style="color: #065f46; font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px;">Correct Action</div>
                            <div style="font-size: 36px; font-weight: 900; color: #059669; line-height: 1;">+5¬¢</div>
                            <div style="font-size: 12px; color: #047857; margin-top: 6px;">per safe link clicked</div>
                        </div>

                        <div style="flex: 1; min-width: 200px; max-width: 280px; background: linear-gradient(180deg, #fef2f2 0%, #fecaca 100%); padding: 20px; border-radius: 12px; border: 2px solid #ef4444; text-align: center; box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);">
                            <div style="width: 50px; height: 50px; background: #ef4444; border-radius: 50%; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                <span style="font-size: 24px;">‚úó</span>
                            </div>
                            <div style="color: #991b1b; font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px;">Risky Action</div>
                            <div style="font-size: 36px; font-weight: 900; color: #dc2626; line-height: 1;">-5¬¢</div>
                            <div style="font-size: 12px; color: #b91c1c; margin-top: 6px;">per suspicious link clicked</div>
                        </div>
                    </div>

                    <div style="background: #fef3c7; padding: 14px 24px; border-top: 2px dashed #f59e0b; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span style="font-size: 20px;">üí°</span>
                        <span style="color: #92400e; font-weight: 600; font-size: 14px;"><strong>Pro Tip:</strong> Hover over links to preview URLs before clicking! Your judgment matters.</span>
                    </div>
                </div>

                <!-- ========== FOOTER ========== -->
                <div style="border-top: 2px solid #e5e7eb; padding-top: 20px; margin-top: 28px;">
                    <p style="font-size: 13px; color: #6b7280; margin: 0 0 16px 0;">
                        All emails are simulated for research purposes. Please respond as you would in a real workplace.
                    </p>
                    <p style="margin: 0; color: #374151;">
                        Best regards,<br>
                        <span style="color: #6b7280;">IRiSC Research Team</span><br>
                        <span style="color: #6b7280;">University of Luxembourg</span>
                    </p>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 0,
            "experimental": False,
            "comprehension_check": {
                "enabled": True,
                "questions": [
                    {
                        "id": "cc1",
                        "question": "Which of the following is a KNOWN trusted domain for LuxConsultancy?",
                        "options": [
                            "lockgrid.net",
                            "lockgrid.com",
                            "lock-grid.com",
                            "lockgrid.org"
                        ],
                        "correct_answer": 1,
                        "explanation": "lockgrid.com is the correct trusted domain. Watch out for variations like .net, .org, or hyphens."
                    },
                    {
                        "id": "cc2", 
                        "question": "If you receive an email from 'secure-nebula.com' (with a hyphen), this sender is:",
                        "options": [
                            "A known trusted partner",
                            "Unknown to LuxConsultancy",
                            "Definitely safe",
                            "Your employer"
                        ],
                        "correct_answer": 1,
                        "explanation": "The trusted domain is 'securenebula.com' (no hyphen). 'secure-nebula.com' is NOT on the known list, so it's unknown."
                    },
                    {
                        "id": "cc3",
                        "question": "An email from an unknown sender (not in the known list) is:",
                        "options": [
                            "Always a phishing attempt",
                            "Always safe to trust",
                            "Could be legitimate or suspicious - requires careful evaluation",
                            "Should always be ignored"
                        ],
                        "correct_answer": 2,
                        "explanation": "Unknown senders aren't automatically malicious. They could be new legitimate contacts or potential threats - evaluate each carefully."
                    }
                ]
            }
        },

        # ============================================================
        # EXPERIMENTAL EMAILS (16 total - 2√ó2√ó2√ó2 factorial design)
        # Type (phishing/legitimate) √ó Familiarity (known/unknown) √ó 
        # Urgency (high/low) √ó Framing (threat/reward)
        # ============================================================

        # ----------------------------------------------------------
        # 1. PHISHING | KNOWN | HIGH URGENCY | THREAT
        # Spoofed: secure-nebula.com (hyphenated)
        # ----------------------------------------------------------
        {
            "sender_name": "SecureNebula Support",
            "sender_email": "security-alert@secure-nebula.com",
            "subject": "URGENT: Unauthorized Access Detected - Immediate Action Required",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #d32f2f; color: white; padding: 15px;">
                    <h2 style="margin: 0;">‚ö†Ô∏è Security Alert - SecureNebula</h2>
                </div>
                <div style="padding: 20px; background: #fff3cd; border: 2px solid #ff9800;">
                    <p><strong>Critical Security Notice for LuxConsultancy</strong></p>
                    <p>We detected unauthorized access attempts to your cloud storage:</p>
                    <ul>
                        <li>IP Address: 185.220.101.23 (Tor Exit Node)</li>
                        <li>Location: Unknown</li>
                        <li>Attempts: 47 in the last hour</li>
                    </ul>
                    <p style="color: #d32f2f;"><strong>Your account will be suspended in 2 hours unless you verify your identity.</strong></p>
                </div>
                <div style="padding: 20px;">
                    <style>
                        .verify-btn:hover { background-color: #b71c1c !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p>To prevent data loss and service interruption:</p>
                    <p style="text-align: center;">
                        <a href="http://securenebula-verify.net/emergency-auth" class="verify-btn" style="background: #d32f2f; color: white !important; padding: 15px 30px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Verify Identity Now</a>
                    </p>
                    <p style="font-size: 12px; color: #666; margin-top: 20px;">If you did not request this verification, your credentials may already be compromised. Act immediately.</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 1,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "known", "urgency": "high", "framing": "threat"},

            "phishing_quality": "high",

        },

        # ----------------------------------------------------------
        # 2. LEGITIMATE | KNOWN | HIGH URGENCY | THREAT
        # Real: lockgrid.com
        # ----------------------------------------------------------
        {
            "sender_name": "Marcus Chen (LockGrid)",
            "sender_email": "m.chen@lockgrid.com",
            "subject": "URGENT: Security Audit Findings - Response Required by EOD",
            "body": """
            <p>Hi,</p>
            <p>Following our quarterly security audit of LuxConsultancy's systems, we've identified <strong>3 critical vulnerabilities</strong> that require immediate attention:</p>
            <ol>
                <li>Outdated SSL certificates on 2 internal servers (expiring in 48 hours)</li>
                <li>Unpatched RCE vulnerability in document management system</li>
                <li>Misconfigured firewall rules allowing unauthorized outbound connections</li>
            </ol>
            <p><strong style="color: #d32f2f;">These issues must be addressed by end of day to maintain your compliance certification.</strong></p>
            <style>
                .audit-link:hover { text-decoration: underline !important; color: #005a9e !important; }
            </style>
            <p>I've prepared the remediation steps here: <a href="https://portal.lockgrid.com/clients/luxconsultancy/audit-2025-Q1" class="audit-link" style="color: #0078d4; text-decoration: none; transition: color 0.2s ease;">View Audit Report & Remediation Guide</a></p>
            <p>Please confirm receipt and provide an ETA for fixes. I'm available for a call if needed.</p>
            <p>Best regards,<br>Marcus Chen<br>Senior Security Consultant<br>LockGrid Solutions<br>Direct: +31 26 48 71 33</p>
            """,
            "is_phishing": False,
            "order_id": 2,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "known", "urgency": "high", "framing": "threat"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 3. PHISHING | KNOWN | HIGH URGENCY | REWARD
        # Spoofed: superfinance.org (TLD swap)
        # ----------------------------------------------------------
        {
            "sender_name": "SuperFinance Tax Services",
            "sender_email": "refunds@superfinance.org",
            "subject": "ACTION REQUIRED: Tax Refund for LuxConsultancy Employees",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #2e7d32; color: white; padding: 15px;">
                    <h2 style="margin: 0;">üí∞ Tax Refund Notification</h2>
                </div>
                <div style="padding: 20px;">
                    <p>Dear LuxConsultancy Finance Team,</p>
                    <p>Great news! Following our review of your 2024 corporate tax filings, you're entitled to a refund of:</p>
                    <div style="background: #e8f5e9; padding: 20px; text-align: center; margin: 20px 0; border-radius: 8px;">
                        <span style="font-size: 36px; font-weight: bold; color: #2e7d32;">‚Ç¨4,750.00</span>
                    </div>
                    <p><strong>This refund must be claimed within 48 hours</strong> or it will be returned to the tax authority.</p>
                    <p>To process your refund, please verify your company banking details:</p>
                    <style>
                        .claim-btn:hover { background-color: #1b5e20 !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="http://superfinance-refunds.com/claim/luxconsultancy" class="claim-btn" style="background: #2e7d32; color: white !important; padding: 15px 30px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Claim Your Refund</a>
                    </p>
                    <p style="font-size: 12px; color: #666;">Reference: TXR-2024-LUX-4829</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 3,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "known", "urgency": "high", "framing": "reward"},

            "phishing_quality": "high",

        },

        # ----------------------------------------------------------
        # 4. LEGITIMATE | KNOWN | HIGH URGENCY | REWARD
        # Real: trendyletter.com
        # ----------------------------------------------------------
        {
            "sender_name": "TrendyLetter Premium",
            "sender_email": "vip@trendyletter.com",
            "subject": "Last Chance: Exclusive 60% Discount Expires Tonight!",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; text-align: center;">
                    <h1 style="margin: 0;">üéâ VIP EXCLUSIVE</h1>
                    <p style="margin: 5px 0 0 0;">For valued LuxConsultancy subscribers</p>
                </div>
                <div style="padding: 25px;">
                    <p>Hi there,</p>
                    <p>As a long-time subscriber, we're offering you an exclusive deal on our <strong>Premium Analytics Package</strong>:</p>
                    <div style="background: #f0f7ff; padding: 20px; margin: 20px 0; border-left: 4px solid #667eea;">
                        <p style="margin: 0;"><strong>Regular Price:</strong> <s>‚Ç¨299/year</s></p>
                        <p style="margin: 5px 0; font-size: 24px; color: #667eea;"><strong>Your Price: ‚Ç¨119/year</strong></p>
                        <p style="margin: 0; color: #d32f2f;"><em>Offer expires: Tonight at 11:59 PM CET</em></p>
                    </div>
                    <p>Premium includes: Advanced market reports, competitor tracking, and priority support.</p>
                    <style>
                        .upgrade-btn:hover { background-color: #5a67d8 !important; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); }
                    </style>
                    <p style="text-align: center;">
                        <a href="https://trendyletter.com/upgrade/premium?ref=luxconsultancy" class="upgrade-btn" style="background: #667eea; color: white !important; padding: 15px 35px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Upgrade Now - Save 60%</a>
                    </p>
                    <p style="font-size: 13px; color: #666; margin-top: 20px;">Questions? Reply to this email or call our support team.</p>
                </div>
                <div style="background: #f5f5f5; padding: 15px; font-size: 11px; color: #666; text-align: center;">
                    <style>
                        .footer-link:hover { text-decoration: underline !important; color: #333 !important; }
                    </style>
                    <a href="https://trendyletter.com/unsubscribe" class="footer-link" style="color: #666; text-decoration: none; transition: color 0.2s ease;">Unsubscribe</a> | 
                    <a href="https://trendyletter.com/preferences" class="footer-link" style="color: #666; text-decoration: none; transition: color 0.2s ease;">Preferences</a>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 4,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "known", "urgency": "high", "framing": "reward"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 5. PHISHING | UNKNOWN | HIGH URGENCY | THREAT
        # Unknown domain: euroinvestbank-secure.net
        # ----------------------------------------------------------
        {
            "sender_name": "EuroInvestBank Security",
            "sender_email": "security-team@euroinvestbank-secure.net",
            "subject": "ALERT: Suspicious Transaction on LuxConsultancy Corporate Account",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #1a237e; color: white; padding: 15px;">
                    <h2 style="margin: 0;">üîî EuroInvestBank Transaction Alert</h2>
                </div>
                <div style="padding: 20px; background: #ffebee; border: 2px solid #d32f2f;">
                    <p><strong>Suspicious Activity Detected</strong></p>
                    <p>We've flagged an unusual transaction on your corporate account:</p>
                    <table style="width: 100%; margin: 15px 0;">
                        <tr><td><strong>Amount:</strong></td><td>‚Ç¨28,500.00</td></tr>
                        <tr><td><strong>Destination:</strong></td><td>SWIFT: COBADEFFXXX (Frankfurt)</td></tr>
                        <tr><td><strong>Status:</strong></td><td style="color: #d32f2f;"><strong>PENDING VERIFICATION</strong></td></tr>
                    </table>
                </div>
                <div style="padding: 20px;">
                    <p>If you <strong>did not authorize</strong> this transfer, you must cancel it immediately:</p>
                    <style>
                        .cancel-btn:hover { background-color: #b71c1c !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="http://euroinvestbank-verify.com/cancel-transaction/8472910" class="cancel-btn" style="background: #d32f2f; color: white !important; padding: 15px 30px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Cancel Transaction Now</a>
                    </p>
                    <p style="font-size: 12px; color: #666;">This transaction will auto-complete in <strong>30 minutes</strong> if not cancelled.</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 5,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "unknown", "urgency": "high", "framing": "threat"},

            "phishing_quality": "high",

        },

        # ----------------------------------------------------------
        # 6. LEGITIMATE | UNKNOWN | HIGH URGENCY | THREAT
        # Unknown but legitimate: finregauthority.eu (FICTIONAL regulator)
        # ----------------------------------------------------------
        {
            "sender_name": "FinReg Authority Compliance Office",
            "sender_email": "compliance-notifications@finregauthority.eu",
            "subject": "Regulatory Notice: Outstanding AML Documentation - Response Required",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #003366; color: white; padding: 15px;">
                    <h2 style="margin: 0;">Financial Regulatory Authority</h2>
                    <p style="margin: 5px 0 0 0; font-size: 12px;">European Financial Supervision</p>
                </div>
                <div style="padding: 20px;">
                    <p><strong>Reference:</strong> FRA/AML/2025/LUX-0482</p>
                    <p>Dear LuxConsultancy Compliance Officer,</p>
                    <p>Our records indicate that the following documentation is outstanding for your annual AML/CFT compliance review:</p>
                    <ul>
                        <li>Updated beneficial ownership registry (Form BO-1)</li>
                        <li>Client due diligence procedures manual (2025 revision)</li>
                        <li>Suspicious activity reporting log (Q4 2024)</li>
                    </ul>
                    <p><strong style="color: #d32f2f;">These documents must be submitted within 5 business days to avoid regulatory penalties.</strong></p>
                    <style>
                        .portal-link:hover { text-decoration: underline !important; color: #005a9e !important; }
                    </style>
                    <p>Submit via our secure portal: <a href="https://portal.finregauthority.eu/regulated-entities/document-submission" class="portal-link" style="color: #0078d4; text-decoration: none; transition: color 0.2s ease;">Document Submission Portal</a></p>
                    <p>For questions, contact our compliance hotline: +352 26 251-1</p>
                    <p>Regards,<br>FinReg Authority Compliance Office<br>110, route d'Arlon<br>L-1150 Paris</p>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 6,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "unknown", "urgency": "high", "framing": "threat"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 7. PHISHING | UNKNOWN | HIGH URGENCY | REWARD
        # Unknown domain: luxprizes-eu.com
        # ----------------------------------------------------------
        {
            "sender_name": "Paris Business Awards",
            "sender_email": "awards@luxprizes-eu.com",
            "subject": "Congratulations! LuxConsultancy Nominated for Excellence Award",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%); color: #1a1a1a; padding: 20px; text-align: center;">
                    <h1 style="margin: 0;">üèÜ NOMINATION ALERT</h1>
                </div>
                <div style="padding: 25px;">
                    <p>Dear LuxConsultancy Leadership Team,</p>
                    <p>We are pleased to inform you that <strong>LuxConsultancy</strong> has been nominated for the <strong>2025 Paris Business Excellence Award</strong> in the category of:</p>
                    <div style="background: #fff8e1; padding: 15px; text-align: center; margin: 20px 0; border: 2px solid #ffd700;">
                        <h3 style="margin: 0; color: #ff8c00;">Best Consulting Firm - Innovation</h3>
                    </div>
                    <p>To confirm your nomination and secure your place at the awards ceremony, please complete your company profile:</p>
                    <style>
                        .confirm-btn:hover { background-color: #ffd700 !important; filter: brightness(0.95); transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="http://lux-business-awards.com/nominees/confirm/luxconsultancy" class="confirm-btn" style="background: #ffd700; color: #1a1a1a !important; padding: 15px 30px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Confirm Nomination</a>
                    </p>
                    <p style="color: #d32f2f; font-size: 14px;"><strong>Deadline: 48 hours</strong> - Unconfirmed nominations will be withdrawn.</p>
                    <p style="font-size: 12px; color: #666;">Includes VIP tickets to the Grand Ballroom ceremony on March 15th.</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 7,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "unknown", "urgency": "high", "framing": "reward"},

            "phishing_quality": "high",

        },

        # ----------------------------------------------------------
        # 8. LEGITIMATE | UNKNOWN | HIGH URGENCY | REWARD
        # Unknown but legitimate: eurofiscalsecretariat.eu (FICTIONAL EU org)
        # ----------------------------------------------------------
        {
            "sender_name": "European Fiscal Affairs Secretariat",
            "sender_email": "conferences@eurofiscalsecretariat.eu",
            "subject": "Final Reminder: Complimentary Registration - FinTech Innovation Summit",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 800px;">
                <div style="background: #003399; color: white; padding: 15px;">
                    <h2 style="margin: 0;">European Fiscal Affairs Secretariat</h2>
                    <p style="margin: 5px 0 0 0;">FinTech & Innovation Summit 2025</p>
                </div>
                <div style="padding: 25px;">
                    <p>Dear Industry Partner,</p>
                    <p>As a recognized consulting firm in the Paris financial sector, LuxConsultancy is invited to attend the <strong>European Fiscal Affairs Secretariat FinTech & Innovation Summit 2025</strong>.</p>
                    <div style="background: #e8f4fc; padding: 15px; margin: 20px 0; border-left: 4px solid #003399;">
                        <p style="margin: 0;"><strong>Date:</strong> February 20-21, 2025</p>
                        <p style="margin: 5px 0;"><strong>Venue:</strong> European Convention Center, Frankfurt</p>
                        <p style="margin: 0;"><strong>Registration:</strong> <span style="color: #2e7d32; font-weight: bold;">COMPLIMENTARY</span></p>
                    </div>
                    <p><strong>Featured Sessions:</strong></p>
                    <ul>
                        <li>Digital Currency Implementation Roadmap</li>
                        <li>AI in Financial Supervision</li>
                        <li>Cross-border Payment Innovations</li>
                    </ul>
                    <p style="color: #d32f2f;"><strong>Registration closes: Tomorrow, 6 PM CET</strong></p>
                    <style>
                        .register-btn:hover { background-color: #002266 !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="https://www.eurofiscalsecretariat.eu/events/fintech-summit-2025/registration" class="register-btn" style="background: #003399; color: white !important; padding: 15px 30px; text-decoration: none !important; border-radius: 4px; font-weight: bold; display: inline-block; transition: all 0.2s ease;">Register Now</a>
                    </p>
                    <p style="font-size: 12px; color: #666;">Limited to 2 representatives per organization.</p>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 8,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "unknown", "urgency": "high", "framing": "reward"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 9. PHISHING | KNOWN | LOW URGENCY | THREAT
        # Spoofed: lockgrid.net (TLD swap)
        # ----------------------------------------------------------
        {
            "sender_name": "LockGrid Customer Portal",
            "sender_email": "notifications@lockgrid.net",
            "subject": "Service Notice: Scheduled Security Update",
            "body": """
            <p>Dear LuxConsultancy,</p>
            <p>As part of our ongoing commitment to security, we'll be performing a system-wide security update next week.</p>
            <p><strong>What this means for you:</strong></p>
            <ul>
                <li>Your current access credentials will need to be re-verified</li>
                <li>Multi-factor authentication settings will be reset</li>
                <li>Session tokens will expire</li>
            </ul>
            <p>To ensure uninterrupted access to your security dashboard, please update your credentials before the maintenance window:</p>
            <style>
                .update-cred-link:hover { color: #003a70 !important; text-decoration-thickness: 2px !important; }
            </style>
            <p><a href="http://lockgrid-portal.net/credential-update" class="update-cred-link" style="color: #0078d4 !important; text-decoration: underline !important; transition: all 0.2s ease;">Update Your Credentials</a></p>
            <p>This is a routine maintenance procedure. If you don't update by next Friday, you may experience temporary access issues.</p>
            <p>Thank you for being a valued client.</p>
            <p>LockGrid Customer Success Team<br>support@lockgrid.net</p>
            """,
            "is_phishing": True,
            "order_id": 9,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "known", "urgency": "low", "framing": "threat"},

            "phishing_quality": "medium",

        },

        # ----------------------------------------------------------
        # 10. LEGITIMATE | KNOWN | LOW URGENCY | THREAT
        # Real: greenenvi.com
        # ----------------------------------------------------------
        {
            "sender_name": "Sophie Laurent (GreenEnvi)",
            "sender_email": "s.laurent@greenenvi.com",
            "subject": "FYI: Updated Environmental Compliance Guidelines",
            "body": """
            <p>Hi team,</p>
            <p>Hope you're doing well! Just wanted to give you a heads-up about some updates to the EU environmental reporting requirements that will affect our consulting projects.</p>
            <p><strong>Key changes for 2025:</strong></p>
            <ul>
                <li>CSRD scope expansion now includes mid-size companies</li>
                <li>New carbon footprint disclosure templates (effective Q2)</li>
                <li>Updated Taxonomy alignment thresholds</li>
            </ul>
            <style>
                .doc-link:hover { text-decoration: underline !important; color: #005a9e !important; }
            </style>
            <p>I've put together a summary document for the LuxConsultancy team: <a href="https://docs.greenenvi.com/shared/compliance-update-2025" class="doc-link" style="color: #0078d4; text-decoration: none; transition: color 0.2s ease;">2025 Compliance Summary</a></p>
            <p>No immediate action needed, but it would be good to review this before our next project kickoff. Happy to discuss on our monthly call.</p>
            <p>Best,<br>Sophie Laurent<br>Sustainability Consultant<br>GreenEnvi Solutions<br>+31 621 319 888</p>
            """,
            "is_phishing": False,
            "order_id": 10,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "known", "urgency": "low", "framing": "threat"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 11. PHISHING | KNOWN | LOW URGENCY | REWARD
        # Spoofed: wattvoltbrdige.com (typosquatting - transposed letters)
        # ----------------------------------------------------------
        {
            "sender_name": "WattVoltBridge Partnerships",
            "sender_email": "partnerships@wattvoltbrdige.com",
            "subject": "New Referral Bonus Program for Consulting Partners",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #4caf50; color: white; padding: 15px;">
                    <h2 style="margin: 0;">Partner Rewards Program</h2>
                </div>
                <div style="padding: 20px;">
                    <p>Dear LuxConsultancy,</p>
                    <p>We're excited to announce our new <strong>Partner Referral Bonus Program</strong>!</p>
                    <p>As a valued consulting partner in our energy sector projects, you're eligible for:</p>
                    <div style="background: #e8f5e9; padding: 15px; margin: 15px 0; border-left: 4px solid #4caf50;">
                        <p style="margin: 0;"><strong>‚Ç¨500 bonus</strong> for each successful client referral</p>
                        <p style="margin: 5px 0 0 0;">Unlimited referrals ‚Ä¢ Quarterly payouts ‚Ä¢ No minimum</p>
                    </div>
                    <p>To activate your partner account and start earning:</p>
                    <style>
                        .activate-link:hover { color: #2e7d32 !important; text-decoration: underline !important; }
                    </style>
                    <p><a href="http://wattvoltbridge-partners.com/activate" class="activate-link" style="color: #4caf50 !important; font-weight: bold; text-decoration: underline !important; transition: color 0.2s ease;">Activate Partner Account ‚Üí</a></p>
                    <p>Simply provide your banking details to receive direct deposits.</p>
                    <p>Looking forward to strengthening our partnership!</p>
                    <p>WattVoltBridge Partnership Team</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 11,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "known", "urgency": "low", "framing": "reward"},

            "phishing_quality": "medium",

        },

        # ----------------------------------------------------------
        # 12. LEGITIMATE | KNOWN | LOW URGENCY | REWARD
        # Real: securenebula.com
        # ----------------------------------------------------------
        {
            "sender_name": "SecureNebula Customer Success",
            "sender_email": "success@securenebula.com",
            "subject": "Your Monthly Cloud Usage Report + Free Training Credits",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #1976d2; color: white; padding: 15px;">
                    <h2 style="margin: 0;">SecureNebula</h2>
                    <p style="margin: 5px 0 0 0;">Monthly Account Summary</p>
                </div>
                <div style="padding: 20px;">
                    <p>Hi LuxConsultancy team,</p>
                    <p>Here's your January usage summary:</p>
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                        <tr style="background: #f5f5f5;">
                            <td style="padding: 10px; border: 1px solid #ddd;">Storage Used</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">2.4 TB / 5 TB</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid #ddd;">API Calls</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">12,847</td>
                        </tr>
                        <tr style="background: #f5f5f5;">
                            <td style="padding: 10px; border: 1px solid #ddd;">Active Users</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">34</td>
                        </tr>
                    </table>
                    <div style="background: #e3f2fd; padding: 15px; margin: 15px 0; border-left: 4px solid #1976d2;">
                        <p style="margin: 0;"><strong>üéÅ Loyalty Bonus:</strong> You've earned <strong>5 free training credits</strong> for your team!</p>
                        <style>
                            .link-blue:hover { text-decoration: underline !important; color: #0d47a1 !important; }
                        </style>
                        <p style="margin: 5px 0 0 0;"><a href="https://academy.securenebula.com/redeem?org=luxconsultancy" class="link-blue" style="color: #1976d2; text-decoration: none; transition: color 0.2s ease;">Redeem Training Credits</a></p>
                    </div>
                    <p>Full report: <a href="https://dashboard.securenebula.com/reports/jan-2025" class="link-blue" style="color: #1976d2; text-decoration: none; transition: color 0.2s ease;">View Detailed Analytics</a></p>
                    <p>Questions? Reach out anytime.</p>
                    <p>Best,<br>SecureNebula Customer Success</p>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 12,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "known", "urgency": "low", "framing": "reward"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 13. PHISHING | UNKNOWN | LOW URGENCY | THREAT
        # Unknown domain: it-compliance-eu.net
        # ----------------------------------------------------------
        {
            "sender_name": "EU-IT Compliance Bureau",
            "sender_email": "audit@it-compliance-eu.net",
            "subject": "Notice: Upcoming GDPR Compliance Audit Scheduled",
            "body": """
            <p><strong>EU IT Compliance Bureau</strong></p>
            <p>Reference: GDPR-AUD-2025-8471</p>
            <p>Dear Data Controller,</p>
            <p>This notice confirms that LuxConsultancy has been selected for a routine GDPR compliance audit as part of our annual review program.</p>
            <p><strong>Audit Details:</strong></p>
            <ul>
                <li>Type: Remote Documentation Review</li>
                <li>Scheduled: Week of February 10-14, 2025</li>
                <li>Scope: Data processing activities, consent management, breach notification procedures</li>
            </ul>
            <p>To prepare for the audit, please complete your pre-audit questionnaire:</p>
            <style>
                .audit-q-link:hover { text-decoration: underline !important; color: #005a9e !important; }
            </style>
            <p><a href="http://gdpr-audit-portal.eu/pre-assessment/luxconsultancy" class="audit-q-link" style="color: #0078d4; text-decoration: none; transition: color 0.2s ease;">Complete Pre-Audit Questionnaire</a></p>
            <p>Failure to complete this questionnaire may result in an on-site audit requirement.</p>
            <p>For questions, contact our audit coordination team.</p>
            <p>EU-IT Compliance Bureau<br>audit@it-compliance-eu.net</p>
            """,
            "is_phishing": True,
            "order_id": 13,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "unknown", "urgency": "low", "framing": "threat"},

            "phishing_quality": "medium",

        },

        # ----------------------------------------------------------
        # 14. LEGITIMATE | UNKNOWN | LOW URGENCY | THREAT
        # Unknown but legitimate: dataprivacyboard.eu (FICTIONAL authority)
        # ----------------------------------------------------------
        {
            "sender_name": "DataPrivacy Board Information Office",
            "sender_email": "info@dataprivacyboard.eu",
            "subject": "Newsletter: Updated Data Protection Guidelines for 2025",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #2c3e50; color: white; padding: 15px;">
                    <h2 style="margin: 0;">DataPrivacy Board</h2>
                    <p style="margin: 5px 0 0 0;">European Data Protection Authority</p>
                </div>
                <div style="padding: 20px;">
                    <p>Dear Data Protection Professional,</p>
                    <p>The DataPrivacy Board has published updated guidance documents for 2025. These updates reflect recent regulatory opinions and enforcement trends.</p>
                    <p><strong>Key updates include:</strong></p>
                    <ul>
                        <li>Revised guidelines on AI-based data processing</li>
                        <li>Updated DPIA template for high-risk activities</li>
                        <li>New recommendations on international data transfers post-adequacy decisions</li>
                    </ul>
                    <style>
                        .guide-link:hover { text-decoration: underline !important; color: #005a9e !important; }
                    </style>
                    <p>Access the updated resources: <a href="https://dataprivacyboard.eu/professionals/guides-2025.html" class="guide-link" style="color: #0078d4; text-decoration: none; transition: color 0.2s ease;">Guidelines Portal</a></p>
                    <p>These guidelines are informational and do not require immediate action. We encourage all data controllers to review at their convenience.</p>
                    <p>DataPrivacy Board<br>15, Boulevard du Jazz<br>L-4370 Belvaux</p>
                </div>
                <div style="background: #f5f5f5; padding: 10px; font-size: 11px; color: #666; text-align: center;">
                    <style>
                        .footer-link-14:hover { text-decoration: underline !important; color: #333 !important; }
                    </style>
                    <a href="https://dataprivacyboard.eu/unsubscribe" class="footer-link-14" style="color: #666; text-decoration: none; transition: color 0.2s ease;">Unsubscribe from newsletter</a>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 14,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "unknown", "urgency": "low", "framing": "threat"},

            "phishing_quality": None,

        },

        # ----------------------------------------------------------
        # 15. PHISHING | UNKNOWN | LOW URGENCY | REWARD
        # Unknown domain: eu-survey-rewards.com
        # ----------------------------------------------------------
        {
            "sender_name": "Business Insights EU",
            "sender_email": "surveys@eu-survey-rewards.com",
            "subject": "Invitation: Share Your Expertise & Earn ‚Ç¨75 Amazon Gift Card",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #ff9800; color: white; padding: 15px; text-align: center;">
                    <h2 style="margin: 0;">Research Participant Needed</h2>
                </div>
                <div style="padding: 20px;">
                    <p>Dear Business Professional,</p>
                    <p>We're conducting research on consulting industry trends and would value your insights.</p>
                    <div style="background: #fff8e1; padding: 15px; margin: 15px 0; text-align: center;">
                        <p style="margin: 0; font-size: 18px;"><strong>Complete our 15-minute survey</strong></p>
                        <p style="margin: 5px 0; font-size: 24px; color: #ff9800;">Receive a <strong>‚Ç¨75 Amazon Gift Card</strong></p>
                    </div>
                    <p><strong>Survey topics:</strong></p>
                    <ul>
                        <li>Industry challenges and opportunities</li>
                        <li>Technology adoption trends</li>
                        <li>Client relationship management</li>
                    </ul>
                    <style>
                        .survey-btn:hover { background-color: #f57c00 !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="http://business-research-eu.com/survey/consulting-trends-2025" class="survey-btn" style="background: #ff9800; color: white !important; padding: 12px 25px; text-decoration: none !important; border-radius: 4px; display: inline-block; transition: all 0.2s ease;">Start Survey ‚Üí</a>
                    </p>
                    <p style="font-size: 12px; color: #666;">Gift card sent via email within 48 hours of completion.</p>
                </div>
            </div>
            """,
            "is_phishing": True,
            "order_id": 15,
            "experimental": True,
            "factorial_category": {"type": "phishing", "sender": "unknown", "urgency": "low", "framing": "reward"},

            "phishing_quality": "low",

        },

        # ----------------------------------------------------------
        # 16. LEGITIMATE | UNKNOWN | LOW URGENCY | REWARD
        # Unknown but legitimate: favbizjournal.com (FICTIONAL business media)
        # ----------------------------------------------------------
        {
            "sender_name": "FavBiz Journal Club",
            "sender_email": "club@favbizjournal.com",
            "subject": "Exclusive Invite: CEO Networking Breakfast - Free for Members",
            "body": """
            <div style="font-family: Arial, sans-serif; max-width: 600px;">
                <div style="background: #e91e63; color: white; padding: 15px;">
                    <h2 style="margin: 0;">FavBiz Journal Club</h2>
                    <p style="margin: 5px 0 0 0;">Europe's Premier Business Network</p>
                </div>
                <div style="padding: 20px;">
                    <p>Dear Business Leader,</p>
                    <p>You're invited to our exclusive <strong>CEO Networking Breakfast</strong>:</p>
                    <div style="background: #fce4ec; padding: 15px; margin: 15px 0; border-left: 4px solid #e91e63;">
                        <p style="margin: 0;"><strong>Topic:</strong> "Europe as a FinTech Hub: What's Next?"</p>
                        <p style="margin: 5px 0;"><strong>Date:</strong> October 28, 2026 | 8:00 - 10:00 AM</p>
                        <p style="margin: 0;"><strong>Venue:</strong> Hotel Le Royal, Paris</p>
                    </div>
                    <p><strong>Featured speakers:</strong></p>
                    <ul>
                        <li>Dr. Thomas Weber, Financial Regulatory Expert</li>
                        <li>Marie Dupont, FinTech Innovation Director</li>
                        <li>Jean-Pierre Martin, Partner, Leading Consulting Firm</li>
                    </ul>
                    <p><strong>Registration is free</strong> for FavBiz Journal Club members and partner organizations.</p>
                    <style>
                        .register-event-btn:hover { background-color: #c2185b !important; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                    </style>
                    <p style="text-align: center;">
                        <a href="https://club.favbizjournal.com/events/ceo-breakfast-feb2025" class="register-event-btn" style="background: #e91e63; color: white !important; padding: 12px 25px; text-decoration: none !important; border-radius: 4px; display: inline-block; transition: all 0.2s ease;">Register Now</a>
                    </p>
                    <p style="font-size: 12px; color: #666;">Limited to 40 participants. Early registration recommended.</p>
                </div>
                <div style="background: #f5f5f5; padding: 10px; font-size: 11px; color: #666; text-align: center;">
                    FavBiz Journal Club | 10 rue des Gaulois, L-1618 Paris<br>
                    <style>
                        .footer-link-16:hover { text-decoration: underline !important; color: #333 !important; }
                    </style>
                    <a href="https://club.favbizjournal.com/unsubscribe" class="footer-link-16" style="color: #666; text-decoration: none; transition: color 0.2s ease;">Manage preferences</a>
                </div>
            </div>
            """,
            "is_phishing": False,
            "order_id": 16,
            "experimental": True,
            "factorial_category": {"type": "legitimate", "sender": "unknown", "urgency": "low", "framing": "reward"},

            "phishing_quality": None,

        },
    ]
    
    # Insert all emails
    result = await db.emails.insert_many(emails)
    print(f"Successfully inserted {len(result.inserted_ids)} emails")
    print("\n=== Email Design Summary ===")
    print("Known trusted domains: luxconsultancy.com, securenebula.com, lockgrid.com,")
    print("                       superfinance.com, trendyletter.com, greenenvi.com, wattvoltbridge.com")
    print("\nSpoofing techniques used for phishing 'known' senders:")
    print("  - secure-nebula.com (hyphenation)")
    print("  - superfinance.org (TLD swap)")
    print("  - lockgrid.net (TLD swap)")
    print("  - wattvoltbrdige.com (typosquatting)")
    print("\nUnknown LEGITIMATE domains (fictional):")
    print("  - finregauthority.eu (Financial Regulatory Authority)")
    print("  - eurofiscalsecretariat.eu (European Fiscal Affairs Secretariat)")
    print("  - dataprivacyboard.eu (DataPrivacy Board)")
    print("  - favbizjournal.com (FavBiz Journal)")
    print("\nTotal: 17 emails (1 welcome + 16 experimental)")
    print("\nNote: Timestamps are generated by routes.py when participants first access each email")

if __name__ == "__main__":
    asyncio.run(seed())